# FlyCut Caption TODO List

## 高优先级功能

### 1. 配置面板与多模型支持
- [ ] 创建设置/配置面板 UI 组件
- [ ] 添加 ASR 模型选择功能
  - [ ] 集成 FunASR 模型支持
  - [ ] 支持 Whisper 和 FunASR 模型切换
  - [ ] 显示各模型的特点和性能对比
- [ ] 实现模型预下载功能
  - [ ] 添加模型下载管理器
  - [ ] 显示下载进度和状态
  - [ ] 支持本地模型缓存管理
  - [ ] 避免使用时才下载（提升用户体验）
- [ ] 模型配置持久化（LocalStorage/IndexedDB）

### 2. AI 字幕纠正功能
- [ ] 集成 LLM API（OpenAI/Claude/本地模型）
- [ ] 设计字幕纠正 UI
  - [ ] 批量纠正按钮
  - [ ] 逐句纠正选项
  - [ ] 显示纠正前后对比
- [ ] 实现智能纠正逻辑
  - [ ] 语法纠正
  - [ ] 标点符号优化
  - [ ] 口语转书面语
  - [ ] 错别字修正
- [ ] 添加纠正历史记录和撤销功能

### 3. 字幕翻译功能
- [ ] 集成翻译 API
  - [ ] 支持多种翻译引擎（Google/DeepL/本地模型）
  - [ ] 语言检测功能
- [ ] 翻译 UI 设计
  - [ ] 目标语言选择器
  - [ ] 翻译进度显示
  - [ ] 译文编辑功能
- [ ] 支持批量翻译和单句翻译
- [ ] 翻译质量优化
  - [ ] 上下文感知翻译
  - [ ] 专业术语处理

### 4. 双语字幕支持
- [ ] 双语字幕渲染组件
  - [ ] 上下排列布局
  - [ ] 主副语言切换
  - [ ] 字体大小和样式独立配置
- [ ] 双语字幕导出
  - [ ] SRT 双语格式
  - [ ] ASS/SSA 高级样式支持
  - [ ] 自定义双语模板
- [ ] 双语字幕编辑
  - [ ] 同步编辑原文和译文
  - [ ] 对齐检查和调整

### 5. Electron 桌面应用
- [ ] Electron 项目初始化
  - [ ] 配置主进程和渲染进程
  - [ ] 设置 IPC 通信机制
- [ ] 本地文件系统集成
  - [ ] 原生文件选择器
  - [ ] 本地文件保存
  - [ ] 拖拽文件支持优化
- [ ] 应用打包和分发
  - [ ] macOS 打包（DMG/PKG）
  - [ ] Windows 打包（EXE/MSI）
  - [ ] Linux 打包（AppImage/DEB）
  - [ ] 自动更新功能
- [ ] 性能优化
  - [ ] 多线程处理
  - [ ] GPU 加速
  - [ ] 内存管理优化

### 6. 水印功能
- [ ] 水印配置 UI
  - [ ] 文字水印编辑器
  - [ ] 图片水印上传
  - [ ] 位置和大小调整
  - [ ] 透明度控制
- [ ] 水印渲染
  - [ ] 实时预览
  - [ ] 多种位置预设（左上/右上/居中等）
  - [ ] 自定义坐标
- [ ] 水印导出
  - [ ] 嵌入视频输出
  - [ ] 字幕文件水印（如 ASS 格式）
  - [ ] 批量添加水印

## 中优先级功能

### 用户体验优化
- [ ] 添加快捷键支持
- [ ] 撤销/重做功能增强
- [ ] 批量操作优化
- [ ] 主题切换（深色/浅色模式）
- [ ] 多语言界面（i18n）

### 字幕编辑增强
- [ ] 字幕合并和拆分
- [ ] 时间轴批量调整
- [ ] 字幕搜索和替换
- [ ] 正则表达式支持
- [ ] 字幕样式编辑（颜色/字体/大小）

### 导出功能增强
- [ ] 支持更多字幕格式（ASS/SSA/VTT/TTML）
- [ ] 视频导出（硬字幕烧录）
- [ ] 批量导出
- [ ] 自定义导出模板

## 低优先级功能

### 协作和云服务
- [ ] 云端项目保存
- [ ] 多人协作编辑
- [ ] 版本历史管理

### 高级功能
- [ ] 字幕质量评分
- [ ] ASR 准确率统计
- [ ] 说话人识别（Speaker Diarization）
- [ ] 背景音乐检测和标注

### 性能和优化
- [ ] 大文件处理优化
- [ ] 内存占用优化
- [ ] 启动速度优化
- [ ] 增量保存和自动备份

## 技术债务

- [ ] 单元测试覆盖率提升
- [ ] E2E 测试添加
- [ ] 代码文档完善
- [ ] 性能基准测试
- [ ] 错误监控和上报

## 已完成功能

- [x] 基础视频/音频文件上传
- [x] Whisper ASR 语音识别
- [x] 字级时间戳字幕生成
- [x] 可视化字幕编辑
- [x] 视频同步播放
- [x] SRT/JSON 格式导出
- [x] Web Workers 后台处理
- [x] TypeScript 类型安全
